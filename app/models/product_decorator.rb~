Spree::Product.class_eval do
 belongs_to :partner, :class_name => 'User'
 belongs_to :salerepresentative, :class_name => 'User'
 before_save :assign_user
 def assign_user
  self.partner_id = spree_current_user.id if spree_current_user.has_spree_role?('partner') 		    
 end
end
